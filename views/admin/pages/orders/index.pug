extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/pagination.pug
block main 
  .main__conntainer
    .recentOrderContainer( style  = "width: 96%; margin:0 20px 0 20px" )
      .recentHeader
        h2 Những đơn hàng gần đây
        button.viewAllBtn Tất cả
      table.recentTable
        thead
          tr
            th Mã đơn hàng
            th Ảnh
            th Giá
            th Ngày đặt
            th Thanh toán
            th Trạng thái
        tbody
          // Example Row
          each order in orders
            tr( onclick = `window.location.href = "orders/detail/${order.id}"`)
              td #{order.id}
              td 
                img( style =" width : 100px" src = order.thumbnail)
              td #{order.totalPrice.toLocaleString('vi-VN')} vnđ
              - var date = new Date(order.createdAt)
              td #{date.getDate().toString().padStart(2, '0')}/#{(date.getMonth()+1).toString().padStart(2, '0')}/#{date.getFullYear()}
              td #{order.payment}
              td
                if order.status === 'Chờ xác nhận'
                  span.statusBadge.pending Chờ xác nhận
                else if order.status === 'Đang xử lý'
                  span.statusBadge.inProgress Đang xử lý
                else if order.status === 'Đã hủy'
                  span.statusBadge.cancelled Đã hủy
                else if order.status === 'Đang vận chuyển'
                  span.statusBadge.delivering Đang vận chuyển
                else if order.status === 'Trả lại'
                  span.statusBadge.return Trả lại
                else if order.status === 'Đã giao'
                  span.statusBadge.delivered Đã giao
                else
                  span.statusBadge #{order.status}
      +pagination(pagination)